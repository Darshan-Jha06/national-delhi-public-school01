<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard - Apna School</title>
    
    <style>
        /* DASHBOARD CSS STYLES */
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: #f4f7f9;
            color: #333;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 250px;
            height: 100vh;
            background-color: #0056b3; /* Primary Blue */
            color: white;
            position: fixed;
            padding-top: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
            float: left;
        }

        .sidebar h2 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.5em;
            color: #ffcc00; /* Accent Yellow */
        }

        .sidebar ul {
            list-style: none;
            padding: 0;
        }

        .sidebar ul li a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: white;
            border-left: 5px solid transparent;
            transition: all 0.3s;
        }

        .sidebar ul li a:hover, .sidebar ul li .active {
            background-color: #004494; /* Darker Blue */
            border-left: 5px solid #ff5722; /* Orange Highlight */
        }

        /* Main Content */
        .main-content {
            margin-left: 250px; /* Space for sidebar */
            padding: 20px;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .header-bar h1 {
            color: #0056b3;
            margin: 0;
        }

        /* Widgets/Cards */
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 2fr; /* Profile one column, Grades two columns */
            gap: 20px;
        }

        .card {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .card h3 {
            border-bottom: 2px solid #ffcc00; /* Yellow underline */
            padding-bottom: 10px;
            margin-top: 0;
            color: #0056b3;
        }

        .profile-card img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid #0056b3;
        }

        .info-list p {
            margin: 5px 0;
            font-size: 0.95em;
        }

        /* Grades Table */
        .grades-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        .grades-table th, .grades-table td {
            border: 1px solid #eee;
            padding: 10px;
            text-align: left;
        }

        .grades-table th {
            background-color: #e9ecef;
            font-weight: bold;
        }

        /* Announcements */
        .announcement {
            border-left: 4px solid #ff5722;
            padding-left: 15px;
            margin-bottom: 10px;
            background-color: #fff3e0; /* Light orange background */
        }

        .announcement strong {
            color: #ff5722;
        }
       /* ======================================= */
/* @media (max-width: 768px) SECTION START */
/* ======================================= */
@media (max-width: 768px) {
    
    /* 1. SIDEBAR FIXES (Position and Flow) */
    .sidebar {
        width: 100% !important; /* Poori width le */
        height: auto !important; /* Height content ke hisaab se */
        position: relative !important; /* Fixed position hata diya */
        padding-top: 10px;
        float: none; /* Float property ko hataya */
        z-index: 10; /* Z-index set kiya taaki yeh upar rahe */
    }

    .sidebar h2 {
        text-align: center;
        margin-bottom: 10px;
    }

    /* Sidebar links ko side-by-side laayein (Horizontal Navigation) */
    .sidebar ul {
        display: flex;
        flex-wrap: wrap; /* Agar zaroorat pade toh links niche aayein */
        justify-content: center;
        padding: 0 5px;
        margin: 0;
    }
    
    .sidebar ul li {
        width: auto;
        flex-grow: 1; /* Links ko available space evenly mile */
        text-align: center;
    }

    .sidebar ul li a {
        padding: 10px 8px; /* Padding kam kiya */
        font-size: 0.9em;
        border-left: none; /* Extra border remove kiya */
        border-bottom: 3px solid transparent;
    }
    .sidebar ul li a:hover, .sidebar ul li .active {
        border-left: none;
        border-bottom: 3px solid #ff5722;
    }


    /* 2. MAIN CONTENT FIXES (Margin and Padding) */
    .main-content {
        margin-left: 0 !important; /* Critical: Left margin zero kiya */
        padding: 10px;
        width: 100%; /* Ensure full width */
        box-sizing: border-box; /* Padding aur border ko width mein shaamil karein */
    }

    .header-bar h1 {
        font-size: 1.5em;
    }

    /* 3. CARD AND GRID FIXES */
    .dashboard-grid {
        grid-template-columns: 1fr !important; /* Critical: Sab kuch vertical stack karein */
    }

    /* Table text chota karein taaki woh choti screen par fit ho jaaye */
    .grades-table th, .grades-table td {
        padding: 8px 4px; 
        font-size: 0.8em; 
        display: table-cell; /* Ensure table cells behave correctly */
    }
    
    /* Profile card ko center align karein */
    .profile-card {
        text-align: center;
    }
    .profile-card img {
        margin: 0 auto 15px; /* Image ko center kiya */
    }
}
/* ======================================= */
/* @media (max-width: 768px) SECTION END   */
/* ======================================= */
 
    </style>
</head>
<body>

    <div class="sidebar">
        <h2>Student Portal</h2>
        <ul>
            <li><a href="#" class="active">Dashboard</a></li>
            <li><a href="attendance.html">Attendance</a></li>
            <li><a href="#">Assignments</a></li>
            <li><a href="#">Fee Status</a></li>
            <li><a href="#">Library</a></li>
            <li><a href="#" id="logoutLink">Logout</a></li>
        </ul>
    </div>

    <div class="main-content">
        <div class="header-bar">
            <h1>Welcome Back, Darshan Jha!</h1>
        </div>

        <div class="dashboard-grid">
            <div class="profile-column">
                <div class="card profile-card">
                    <h3>My Profile</h3>
                    <img src="myimg.png" alt="Student Photo">
                    <div class="info-list">
                        <p><strong>Roll No:</strong> 06</p>
                        <p><strong>Class:</strong> Grade 11th - Section A</p>
                        <p><strong>Contact:</strong> darshanjha75@gmail.com</p>
                        <p><strong>D.O.B:</strong> 06/06/2008</p>
                    </div>
                </div>

                <div class="card">
                    <h3>Upcoming Events</h3>
                    <div class="announcement">
                        <p><strong>20 Dec:</strong> Annual Sports Day Practice begins.</p>
                    </div>
                     <div class="announcement">
                        <p><strong>25 Dec:</strong> Christmas Holidays Start.</p>
                    </div>
                    <a href="#" style="display: block; margin-top: 15px; color: #0056b3;">View Full Calendar →</a>
                </div>
            </div>

            <div class="data-column">
                <div class="card">
    <h3>Attendance Summary</h3>
    
    <table class="grades-table" id="attendanceTable">
        <thead>
            <tr>
                <th>Month</th>
                <th>Days Present</th>
                <th>Total Days</th>
                <th>Percentage</th>
            </tr>
        </thead>
        <tbody id="attendanceTableBody">
            <tr>
                <td>December 2025</td>
                <td>16</td>
                <td>18</td>
                <td>88.8%</td>
            </tr>
            <tr>
                <td>November 2025</td>
                <td>20</td>
                <td>22</td>
                <td>90.9%</td>
            </tr>
        </tbody>
    </table>
    
    <p style="margin-top: 15px; font-weight: bold;">Overall Year Attendance: 90%</p>
    
    <a href="attendance.html" style="display: block; margin-top: 10px; color: #0056b3;">View Detailed Attendance →</a>
</div>
<div class="card">
    <h3>Pending & Recent Assignments</h3>
    
    <table class="grades-table" id="assignmentsTable">
        <thead>
            <tr>
                <th>Subject</th>
                <th>Assignment Name</th>
                <th>Due Date</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="assignmentsTableBody">
            <tr>
                <td>Physics</td>
                <td>Kinematics Chapter Review</td>
                <td style="color: red; font-weight: bold;">20 Dec 2025</td>
                <td><span style="color: red;">Pending</span></td>
            </tr>
            
            <tr>
                <td>Mathematics</td>
                <td>Quadratic Eq. Exercise 3.2</td>
                <td>10 Dec 2025</td>
                <td><span style="color: green;">Submitted (12/10)</span></td>
            </tr>
            
            <tr>
                <td>English</td>
                <td>Novel Analysis Essay</td>
                <td style="color: orange; font-weight: bold;">24 Dec 2025</td>
                <td><span style="color: orange;">Pending</span></td>
            </tr>
            
        </tbody>
    </table>
    
    <a href="assignments.html" style="display: block; margin-top: 15px; color: #0056b3;">View All Assignments & Submissions →</a>
</div>
<div class="card">
    <h3>Fee Status Summary</h3>
    
    <div style="margin-bottom: 15px; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
        <p style="font-size: 1.1em; margin: 0;"><strong>Next Payment Due:</strong></p>
        <p style="font-size: 1.5em; color: #ff5722; font-weight: bold; margin: 5px 0;">₹ 15,000</p>
        <p style="margin: 0; color: #666;">Due Date: 31 Jan 2026 (Quarter 4)</p>
    </div>
    
    <table class="grades-table" id="feeTable">
        <thead>
            <tr>
                <th>Fee Head</th>
                <th>Amount</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="feeTableBody">
            <tr>
                <td>Tuition Fee (Qtr 4)</td>
                <td>₹ 15,000</td>
                <td><span style="color: red; font-weight: bold;">Pending</span></td>
            </tr>
            
            <tr>
                <td>Annual Charges</td>
                <td>₹ 5,000</td>
                <td><span style="color: green;">Paid (01 Apr 2025)</span></td>
            </tr>
            
        </tbody>
    </table>
    
    <a href="fee_status.html" style="display: block; margin-top: 15px; color: #0056b3; font-weight: bold;">Make Payment / View History →</a>
</div>
                <div class="card">
                    <h3>Latest Grades (Term 1)</h3>
                    <table class="grades-table">
                        <thead>
                            <tr>
                                <th>Subject</th>
                                <th>Marks</th>
                                <th>Grade</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mathematics</td>
                                <td>85 / 100</td>
                                <td>A</td>
                            </tr>
                            <tr>
                                <td>Chemi</td>
                                <td>92 / 100</td>
                                <td>A+</td>
                            </tr>
                            <tr>
                                <td>Physics</td>
                                <td>78 / 100</td>
                                <td>B+</td>
                            </tr>
                             <tr>
                                <td>English</td>
                                <td>88 / 100</td>
                                <td>A</td>
                            </tr>
                            <tr>
                                <td>Music</td>
                                <td>89 / 100</td>
                                <td>A</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <h3>Important Announcements</h3>
                    <div class="announcement">
                        <p><strong>New:</strong> Physics assignment for Class 8 uploaded. Deadline: 22nd Dec.</p>
                    </div>
                    <div class="announcement">
                        <p><strong>Reminder:</strong> School will remain closed on 18th Dec due to local elections.</p>
                    </div>
                    <a href="#" style="display: block; margin-top: 15px; color: #0056b3;">View All Announcements →</a>
                </div>
            </div>
        </div>
    </div>
  <script>  // Pure HTML document ke load hone ka intezaar karein taaki Logout link mil jaaye
document.addEventListener('DOMContentLoaded', function() {
    
    // **********************************************
    // 1. DASHBOARD PROTECTION CHECK 
    // **********************************************
    const isAuthenticated = localStorage.getItem('loggedIn');

    if (isAuthenticated !== 'true') {
        // Agar 'loggedIn' status nahi mila, toh wapas login page par bhej do
        window.location.href = 'login.html';
    }


    // **********************************************
    // 2. LOGOUT FUNCTIONALITY 
    // **********************************************

    // Logout link ko uski ID se target karna
    const logoutLink = document.getElementById('logoutLink'); 

    if (logoutLink) { // Agar element milta hai
        logoutLink.addEventListener('click', function(event) {
            event.preventDefault(); // Default link action rokta hai

            // Local Storage se login status hatana
            localStorage.removeItem('loggedIn'); 
            
            // Login page par redirect karna
            window.location.href = 'index.html';
        });
    }
    // Isse agar ID nahi mili toh console mein error dikhega
    else {
        console.error("Error: Logout link with ID 'logoutLink' not found. Check your HTML.");
    }
});</script>

</body>
</html>